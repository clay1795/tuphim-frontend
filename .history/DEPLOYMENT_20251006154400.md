# 🚀 Hướng Dẫn Deploy RopPhim lên Hosting

## 📋 Yêu Cầu Trước Khi Deploy

### 1. **Environment Setup**
```bash
# Copy file environment variables
cp env.development .env.development
cp env.production .env.production

# Tạo file .env.local cho local development
cp env.development .env.local
```

### 2. **Build Production**
```bash
# Install dependencies
npm install

# Build for production
npm run build

# Kiểm tra build
npm run preview
```

## 🌐 Các Platform Hosting Được Hỗ Trợ

### **1. Vercel (Khuyến nghị)**
```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
vercel --prod

# Hoặc connect GitHub repository
# 1. Push code lên GitHub
# 2. Connect repository tại vercel.com
# 3. Set build command: npm run build
# 4. Set output directory: dist
```

**Cấu hình Environment Variables trên Vercel:**
- `VITE_API_BASE_URL`: `https://phimapi.com`
- `VITE_APP_ENV`: `production`
- `VITE_DEBUG`: `false`

### **2. Netlify**
```bash
# Install Netlify CLI
npm i -g netlify-cli

# Deploy
netlify deploy --prod --dir=dist
```

**Cấu hình trên Netlify:**
- Build command: `npm run build`
- Publish directory: `dist`
- Environment variables: Tương tự Vercel

### **3. GitHub Pages**
```bash
# Install gh-pages
npm install --save-dev gh-pages

# Add script vào package.json
"deploy": "gh-pages -d dist"

# Deploy
npm run build
npm run deploy
```

### **4. Firebase Hosting**
```bash
# Install Firebase CLI
npm install -g firebase-tools

# Login và init
firebase login
firebase init hosting

# Deploy
npm run build
firebase deploy
```

## ⚙️ Cấu Hình Hosting

### **1. Custom Domain (Tùy chọn)**
- Mua domain tại Namecheap, GoDaddy, v.v.
- Point DNS về hosting provider
- Cấu hình SSL certificate

### **2. CDN Setup**
- Cloudflare (miễn phí)
- AWS CloudFront
- KeyCDN

### **3. Performance Optimization**
- Enable Gzip compression
- Enable browser caching
- Minify CSS/JS (đã được cấu hình)

## 🔧 Troubleshooting

### **Lỗi API không hoạt động:**
```javascript
// Kiểm tra trong browser console
console.log('API Base URL:', import.meta.env.VITE_API_BASE_URL);
```

### **Lỗi 404 trên refresh:**
- Cấu hình redirect tất cả routes về index.html
- Vercel: Tự động handle
- Netlify: Tạo file `_redirects` với nội dung: `/* /index.html 200`

### **Lỗi CORS:**
- API đã được cấu hình CORS
- Nếu vẫn lỗi, liên hệ API provider

## 📊 Monitoring & Analytics

### **1. Error Tracking**
```javascript
// Thêm Sentry (tùy chọn)
npm install @sentry/react @sentry/tracing
```

### **2. Analytics**
- Google Analytics
- Vercel Analytics (nếu dùng Vercel)

## 🔒 Security Checklist

- ✅ HTTPS enabled
- ✅ Environment variables secured
- ✅ No sensitive data in code
- ✅ Input validation
- ✅ Error boundaries implemented

## 📱 PWA Support (Tùy chọn)

Để thêm PWA support:
```bash
npm install vite-plugin-pwa workbox-window
```

## 🚀 Quick Deploy Commands

```bash
# Vercel
npm run build && vercel --prod

# Netlify
npm run build && netlify deploy --prod --dir=dist

# GitHub Pages
npm run build && npm run deploy
```

## 📞 Support

Nếu gặp vấn đề khi deploy:
1. Kiểm tra build log
2. Kiểm tra environment variables
3. Kiểm tra network tab trong browser
4. Tạo issue trên GitHub

---

**🎉 Chúc bạn deploy thành công!**

