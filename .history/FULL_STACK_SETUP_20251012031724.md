# ğŸš€ HÆ°á»›ng dáº«n Share Full-Stack TupPhim (Frontend + Backend)

## ğŸ¯ Má»¥c tiÃªu: Share cáº£ Frontend vÃ  Backend hoáº¡t Ä‘á»™ng Ä‘áº§y Ä‘á»§

### **Káº¿t quáº£ mong Ä‘á»£i:**
- âœ… **Frontend URL** - NgÆ°á»i dÃ¹ng truy cáº­p á»©ng dá»¥ng
- âœ… **Backend URL** - API hoáº¡t Ä‘á»™ng Ä‘áº§y Ä‘á»§
- âœ… **Káº¿t ná»‘i Ä‘áº§y Ä‘á»§** - Frontend gá»i API tá»« Backend URL

## ğŸš€ CÃ¡ch thá»±c hiá»‡n:

### **BÆ°á»›c 1: Cháº¡y script share full-stack**
```bash
share-full-stack.bat
```

### **BÆ°á»›c 2: Láº¥y 2 Public URLs**
Sau khi cháº¡y script, báº¡n sáº½ cÃ³:
- **Frontend URL:** `https://abc123.ngrok.io` (port 5173)
- **Backend URL:** `https://def456.ngrok.io` (port 3001)

### **BÆ°á»›c 3: Cáº¥u hÃ¬nh Frontend sá»­ dá»¥ng Backend URL**

#### **Option A: Sá»­a trá»±c tiáº¿p trong code**

1. **Má»Ÿ file:** `src/services/movieApi.js`
2. **TÃ¬m dÃ²ng:** `baseURL: 'http://localhost:3001'`
3. **Thay thÃ nh:** `baseURL: 'https://def456.ngrok.io'` (Backend URL)

#### **Option B: Sá»­ dá»¥ng Environment Variable**

1. **Táº¡o file:** `.env.local`
2. **ThÃªm dÃ²ng:**
   ```
   VITE_API_URL=https://def456.ngrok.io
   ```
3. **Cáº­p nháº­t movieApi.js:**
   ```javascript
   baseURL: import.meta.env.VITE_API_URL || 'http://localhost:3001'
   ```

#### **Option C: Dynamic API URL (Khuyáº¿n nghá»‹)**

1. **Má»Ÿ file:** `src/services/movieApi.js`
2. **Thay Ä‘á»•i baseURL:**
   ```javascript
   const getApiUrl = () => {
     // Náº¿u Ä‘ang cháº¡y trÃªn ngrok domain
     if (window.location.hostname.includes('ngrok.io') || 
         window.location.hostname.includes('ngrok-free.dev')) {
       // Sá»­ dá»¥ng Backend URL (thay def456 báº±ng URL thá»±c táº¿)
       return 'https://def456.ngrok.io';
     }
     // Náº¿u cháº¡y local
     return 'http://localhost:3001';
   };
   
   const api = axios.create({
     baseURL: getApiUrl(),
     // ... rest of config
   });
   ```

### **BÆ°á»›c 4: Restart Frontend**
```bash
# Dá»«ng frontend hiá»‡n táº¡i (Ctrl+C)
# Cháº¡y láº¡i
npm run dev
```

### **BÆ°á»›c 5: Test Full-Stack**

1. **Má»Ÿ Frontend URL** trÃªn Ä‘iá»‡n thoáº¡i: `https://abc123.ngrok.io`
2. **Kiá»ƒm tra cÃ¡c tÃ­nh nÄƒng:**
   - âœ… ÄÄƒng nháº­p/ÄÄƒng kÃ½
   - âœ… TÃ¬m kiáº¿m phim
   - âœ… Xem chi tiáº¿t phim
   - âœ… User profile
   - âœ… Favorites
   - âœ… Watch history

## ğŸ”§ Troubleshooting

### **Lá»—i CORS:**
- âœ… **ÄÃ£ sá»­a** - Backend Ä‘Ã£ cáº¥u hÃ¬nh cháº¥p nháº­n ngrok domains
- âœ… **Restart backend** náº¿u cáº§n: `cd backend && npm start`

### **API khÃ´ng hoáº¡t Ä‘á»™ng:**
- âœ… **Kiá»ƒm tra Backend URL** - Äáº£m báº£o Ä‘Ãºng URL
- âœ… **Kiá»ƒm tra network** - Má»Ÿ DevTools trÃªn Ä‘iá»‡n thoáº¡i
- âœ… **Test API trá»±c tiáº¿p** - Má»Ÿ Backend URL trong trÃ¬nh duyá»‡t

### **Frontend khÃ´ng load:**
- âœ… **Kiá»ƒm tra Frontend URL** - Äáº£m báº£o Ä‘Ãºng URL
- âœ… **Clear cache** - Refresh trang hoáº·c má»Ÿ tab áº©n danh
- âœ… **Kiá»ƒm tra console** - Xem lá»—i JavaScript

## ğŸ“± Test trÃªn Ä‘iá»‡n thoáº¡i

### **Android/iPhone:**
1. **Má»Ÿ trÃ¬nh duyá»‡t** (Chrome, Safari)
2. **Nháº­p Frontend URL:** `https://abc123.ngrok.io`
3. **Kiá»ƒm tra tÃ­nh nÄƒng:**
   - ÄÄƒng nháº­p/ÄÄƒng kÃ½
   - TÃ¬m kiáº¿m phim
   - Xem chi tiáº¿t phim
   - User profile

### **Kiá»ƒm tra Network:**
1. **Má»Ÿ DevTools** (Chrome: F12)
2. **Tab Network** - Xem API calls
3. **Äáº£m báº£o** API calls Ä‘áº¿n Backend URL

## ğŸ¯ Cáº¥u hÃ¬nh nÃ¢ng cao

### **Environment Variables:**
```bash
# .env.local
VITE_API_URL=https://def456.ngrok.io
VITE_APP_NAME=TupPhim
VITE_APP_VERSION=1.0.0
```

### **Dynamic Configuration:**
```javascript
// src/config/api.js
export const API_CONFIG = {
  baseURL: window.location.hostname.includes('ngrok') 
    ? 'https://def456.ngrok.io' 
    : 'http://localhost:3001',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
};
```

## ğŸ‰ Káº¿t quáº£ cuá»‘i cÃ¹ng

Sau khi setup xong:
- âœ… **Frontend URL** - NgÆ°á»i dÃ¹ng truy cáº­p á»©ng dá»¥ng
- âœ… **Backend URL** - API hoáº¡t Ä‘á»™ng Ä‘áº§y Ä‘á»§
- âœ… **Káº¿t ná»‘i Ä‘áº§y Ä‘á»§** - Táº¥t cáº£ tÃ­nh nÄƒng hoáº¡t Ä‘á»™ng
- âœ… **Share vá»›i báº¡n bÃ¨** - Há» cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘áº§y Ä‘á»§

## ğŸ’¡ Tips

1. **Bookmark URLs** - LÆ°u láº¡i Ä‘á»ƒ sá»­ dá»¥ng sau
2. **Monitor ngrok dashboard** - http://localhost:4040
3. **Test thÆ°á»ng xuyÃªn** - Äáº£m báº£o cáº£ hai URLs hoáº¡t Ä‘á»™ng
4. **Backup configuration** - LÆ°u láº¡i cáº¥u hÃ¬nh API

**ğŸ¯ BÃ¢y giá» báº¡n cÃ³ thá»ƒ share TupPhim full-stack vá»›i báº¡n bÃ¨!** ğŸš€
